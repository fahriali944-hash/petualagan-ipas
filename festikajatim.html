<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Belajar IPAS Kelas 3 SD</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    * {
      box-sizing: border-box;
    }

    .container {
      width: 90%;
      max-width: 900px;
      background: white;
      border-radius: 30px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(102, 126, 234, 0.03) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }

    @keyframes rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    .header {
      margin-bottom: 30px;
      position: relative;
      z-index: 1;
    }

    h1 {
      font-size: 48px;
      color: #2d3748;
      margin: 0 0 20px 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 3s ease infinite;
      background-size: 200% auto;
    }

    @keyframes gradientShift {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .illustration {
      margin: 30px 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .illustration svg {
      width: 280px;
      height: 280px;
      filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
      }
      25% {
        transform: translateY(-8px) rotate(-2deg);
      }
      75% {
        transform: translateY(-8px) rotate(2deg);
      }
    }

    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .star {
      position: absolute;
      font-size: 20px;
      animation: twinkle 2s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.2);
      }
    }

    .welcome-badge {
      display: inline-block;
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      color: #2d3748;
      padding: 8px 20px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 15px;
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-5px);
      }
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }

    .menu-item {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px 20px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      font-family: inherit;
      position: relative;
      overflow: hidden;
    }

    .menu-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s ease;
    }

    .menu-item:hover::before {
      left: 100%;
    }

    .menu-item:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.6);
      background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    }

    .menu-item:active {
      transform: translateY(-2px);
    }

    .menu-icon {
      font-size: 40px;
      display: inline-block;
      margin-bottom: 10px;
      transition: transform 0.3s ease;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    }

    .menu-item:hover .menu-icon {
      animation: iconBounce 0.6s ease-in-out;
    }

    @keyframes iconBounce {
      0%, 100% {
        transform: scale(1) rotate(0deg);
      }
      25% {
        transform: scale(1.2) rotate(-10deg);
      }
      75% {
        transform: scale(1.2) rotate(10deg);
      }
    }

    .footer {
      margin-top: 40px;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 15px;
      color: white;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
      overflow: hidden;
    }

    .footer::before {
      content: 'üìö‚úèÔ∏èüé®üî¨';
      position: absolute;
      top: 50%;
      left: -10%;
      transform: translateY(-50%);
      font-size: 24px;
      opacity: 0.2;
      animation: scrollIcons 10s linear infinite;
    }

    @keyframes scrollIcons {
      from {
        left: -10%;
      }
      to {
        left: 110%;
      }
    }

    .material-page {
      text-align: left;
      max-height: 90%;
      overflow-y: auto;
    }

    .back-button {
      background: #e2e8f0;
      color: #2d3748;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      font-family: inherit;
    }

    .back-button:hover {
      background: #cbd5e0;
      transform: translateX(-5px);
    }

    .material-title {
      font-size: 36px;
      color: #2d3748;
      margin: 0 0 25px 0;
      text-align: center;
    }

    .material-illustration {
      display: flex;
      justify-content: center;
      margin: 25px 0;
    }

    .material-illustration svg {
      width: 200px;
      height: 200px;
    }

    .material-section {
      background: #f7fafc;
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 24px;
      color: #2d3748;
      margin: 0 0 15px 0;
    }

    .explanation-text, .example-text {
      font-size: 18px;
      line-height: 1.6;
      color: #4a5568;
      margin: 0;
    }

    .quiz-section {
      background: #edf2f7;
      padding: 25px;
      border-radius: 15px;
      margin-top: 25px;
    }

    .quiz-question {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .question-text {
      font-size: 18px;
      font-weight: bold;
      color: #2d3748;
      margin-bottom: 15px;
    }

    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .quiz-option {
      display: flex;
      align-items: center;
      padding: 12px;
      background: #f7fafc;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid transparent;
    }

    .quiz-option:hover {
      background: #e2e8f0;
    }

    .quiz-option.selected {
      background: #bee3f8;
      border-color: #4299e1;
    }

    .quiz-option input[type="radio"] {
      margin-right: 10px;
      cursor: pointer;
    }

    .quiz-option label {
      cursor: pointer;
      font-size: 16px;
      color: #2d3748;
      flex: 1;
    }

    .submit-quiz-button {
      background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s ease;
      font-family: inherit;
      display: block;
      width: 100%;
    }

    .submit-quiz-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(72, 187, 120, 0.4);
    }

    .quiz-result {
      margin-top: 20px;
      padding: 20px;
      border-radius: 12px;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      display: none;
    }

    .quiz-result.show {
      display: block;
    }

    .quiz-result.success {
      background: #c6f6d5;
      color: #22543d;
    }

    .quiz-result.partial {
      background: #feebc8;
      color: #7c2d12;
    }

    .music-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .music-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }

    @media (max-width: 600px) {
      .container {
        padding: 30px 20px;
      }

      h1 {
        font-size: 32px;
      }

      .illustration svg {
        width: 200px;
        height: 200px;
      }

      .menu-grid {
        grid-template-columns: 1fr;
      }

      .material-title {
        font-size: 28px;
      }

      .section-title {
        font-size: 20px;
      }

      .explanation-text, .example-text {
        font-size: 16px;
      }

      .music-toggle {
        top: 10px;
        right: 10px;
        width: 45px;
        height: 45px;
        font-size: 20px;
      }

      .footer {
        font-size: 14px;
        padding: 15px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><button class="music-toggle" id="musicToggle" onclick="toggleMusic()">üéµ</button> <!-- Halaman Utama -->
  <div class="container" id="homePage">
   <div class="stars"><span class="star" style="top: 10%; left: 15%;">‚≠ê</span> <span class="star" style="top: 20%; left: 85%; animation-delay: 0.5s;">‚ú®</span> <span class="star" style="top: 70%; left: 10%; animation-delay: 1s;">üåü</span> <span class="star" style="top: 75%; left: 90%; animation-delay: 1.5s;">üí´</span> <span class="star" style="top: 40%; left: 5%; animation-delay: 0.8s;">‚≠ê</span> <span class="star" style="top: 50%; left: 95%; animation-delay: 1.2s;">‚ú®</span>
   </div>
   <div class="header">
    <div class="welcome-badge">
     üéì Selamat Datang üéì
    </div>
    <h1 id="mainTitle">Belajar IPAS Kelas 3 SD</h1>
   </div>
   <div class="illustration">
    <svg viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><circle cx="100" cy="60" r="30" fill="#ffd4a3" /> <ellipse cx="90" cy="55" rx="3" ry="5" fill="#333" /> <ellipse cx="110" cy="55" rx="3" ry="5" fill="#333" /> <path d="M 90 65 Q 100 70 110 65" stroke="#333" stroke-width="2" fill="none" /> <path d="M 85 45 Q 100 35 115 45" stroke="#8b4513" stroke-width="3" fill="none" /> <rect x="75" y="85" width="50" height="60" rx="10" fill="#4299e1" /> <rect x="55" y="95" width="25" height="12" rx="6" fill="#ffd4a3" /> <rect x="120" y="95" width="25" height="12" rx="6" fill="#ffd4a3" /> <rect x="85" y="100" width="30" height="25" rx="2" fill="#f56565" /> <line x1="100" y1="100" x2="100" y2="125" stroke="#fff" stroke-width="2" /> <rect x="80" y="145" width="15" height="35" rx="7" fill="#2d3748" /> <rect x="105" y="145" width="15" height="35" rx="7" fill="#2d3748" /> <ellipse cx="87.5" cy="180" rx="10" ry="5" fill="#1a202c" /> <ellipse cx="112.5" cy="180" rx="10" ry="5" fill="#1a202c" /> <text x="30" y="40" font-size="20" fill="#ffd700">
      ‚≠ê
     </text> <text x="160" y="50" font-size="20" fill="#ffd700">
      ‚≠ê
     </text> <text x="40" y="160" font-size="15" fill="#ffd700">
      ‚ú®
     </text> <text x="155" y="170" font-size="15" fill="#ffd700">
      ‚ú®
     </text>
    </svg>
   </div>
   <div class="menu-grid"><button class="menu-item" data-topic="makhluk"> <span class="menu-icon">üå±</span> <span id="menuText1">Makhluk Hidup</span> </button> <button class="menu-item" data-topic="energi"> <span class="menu-icon">‚ö°</span> <span id="menuText2">Energi &amp; Perubahan</span> </button> <button class="menu-item" data-topic="benda"> <span class="menu-icon">üé®</span> <span id="menuText3">Benda di Sekitar</span> </button> <button class="menu-item" data-topic="lingkungan"> <span class="menu-icon">üåç</span> <span id="menuText4">Lingkungan</span> </button>
   </div>
   <div class="footer">
    Website Pembelajaran IPAS Kelas 3 SD
   </div>
  </div><!-- Halaman Materi -->
  <div class="container material-page" id="materialPage" style="display: none;"><button class="back-button" id="backButton">‚Üê Kembali</button>
   <div class="material-content">
    <h2 id="materialTitle" class="material-title"></h2>
    <div class="material-illustration" id="materialIllustration"></div>
    <div class="material-section">
     <h3 class="section-title">üìö Penjelasan</h3>
     <p id="materialExplanation" class="explanation-text"></p>
    </div>
    <div class="material-section">
     <h3 class="section-title">üí° Contoh Sehari-hari</h3>
     <p id="materialExample" class="example-text"></p>
    </div>
    <div class="quiz-section">
     <h3 class="section-title">üéØ Quiz Mini</h3>
     <div id="quizContainer"></div><button class="submit-quiz-button" id="submitQuiz">Cek Jawaban</button>
     <div id="quizResult" class="quiz-result"></div>
    </div>
   </div>
  </div>
  <script>
    let audioContext;
    let musicInterval;
    let isQuizMusic = false;
    let isMusicPlaying = false;

    function initAudio() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
      }
    }

    function stopMusic() {
      if (musicInterval) {
        clearInterval(musicInterval);
        musicInterval = null;
      }
    }

    function playBackgroundMusic() {
      initAudio();
      stopMusic();
      isQuizMusic = false;
      isMusicPlaying = true;
      
      const melody = [
        {freq: 523.25, duration: 0.25},
        {freq: 659.25, duration: 0.25},
        {freq: 783.99, duration: 0.25},
        {freq: 659.25, duration: 0.25},
        {freq: 698.46, duration: 0.4},
        {freq: 659.25, duration: 0.4},
        {freq: 587.33, duration: 0.5},
        {freq: 523.25, duration: 0.25},
        {freq: 587.33, duration: 0.25},
        {freq: 659.25, duration: 0.25},
        {freq: 587.33, duration: 0.25},
        {freq: 523.25, duration: 0.5},
        {freq: 587.33, duration: 0.5},
        {freq: 659.25, duration: 0.25},
        {freq: 783.99, duration: 0.25},
        {freq: 880.00, duration: 0.5},
        {freq: 783.99, duration: 0.5}
      ];

      let noteIndex = 0;
      musicInterval = setInterval(() => {
        const note = melody[noteIndex];
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = note.freq;
        oscillator.type = 'triangle';

        gainNode.gain.setValueAtTime(0.12, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + note.duration);

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + note.duration);

        noteIndex = (noteIndex + 1) % melody.length;
      }, 300);
    }

    function playQuizMusic() {
      initAudio();
      stopMusic();
      isQuizMusic = true;
      isMusicPlaying = true;
      
      const quizMelody = [
        {freq: 783.99, duration: 0.2},
        {freq: 880.00, duration: 0.2},
        {freq: 987.77, duration: 0.2},
        {freq: 1046.50, duration: 0.25},
        {freq: 987.77, duration: 0.15},
        {freq: 880.00, duration: 0.15},
        {freq: 783.99, duration: 0.2},
        {freq: 659.25, duration: 0.2},
        {freq: 783.99, duration: 0.2},
        {freq: 880.00, duration: 0.3},
        {freq: 1046.50, duration: 0.2},
        {freq: 1174.66, duration: 0.25},
        {freq: 1046.50, duration: 0.3}
      ];

      let noteIndex = 0;
      musicInterval = setInterval(() => {
        const note = quizMelody[noteIndex];
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = note.freq;
        oscillator.type = 'sine';

        gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + note.duration);

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + note.duration);

        noteIndex = (noteIndex + 1) % quizMelody.length;
      }, 250);
    }

    window.toggleMusic = function() {
      const toggleBtn = document.getElementById('musicToggle');
      if (isMusicPlaying) {
        stopMusic();
        isMusicPlaying = false;
        toggleBtn.textContent = 'üîá';
      } else {
        if (document.getElementById('materialPage').style.display === 'none') {
          playBackgroundMusic();
        } else {
          playQuizMusic();
        }
        toggleBtn.textContent = 'üéµ';
      }
    };

    const defaultConfig = {
      main_title: "Belajar IPAS Kelas 3 SD",
      menu_1: "Makhluk Hidup",
      menu_2: "Energi & Perubahan",
      menu_3: "Benda di Sekitar",
      menu_4: "Lingkungan",
      primary_color: "#667eea",
      secondary_color: "#ffffff",
      text_color: "#2d3748",
      button_color: "#667eea",
      button_text_color: "#ffffff",
      font_family: "Comic Sans MS",
      font_size: 16
    };

    async function onConfigChange(config) {
      const baseSize = config.font_size || defaultConfig.font_size;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = "'Chalkboard SE', 'Arial Rounded MT Bold', sans-serif";

      document.getElementById('mainTitle').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('mainTitle').style.fontSize = `${baseSize * 3}px`;
      document.getElementById('mainTitle').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('mainTitle').style.color = config.text_color || defaultConfig.text_color;

      document.getElementById('menuText1').textContent = config.menu_1 || defaultConfig.menu_1;
      document.getElementById('menuText2').textContent = config.menu_2 || defaultConfig.menu_2;
      document.getElementById('menuText3').textContent = config.menu_3 || defaultConfig.menu_3;
      document.getElementById('menuText4').textContent = config.menu_4 || defaultConfig.menu_4;

      const menuItems = document.querySelectorAll('.menu-item');
      menuItems.forEach(item => {
        item.style.fontSize = `${baseSize * 1.125}px`;
        item.style.fontFamily = `${customFont}, ${baseFontStack}`;
        item.style.background = `linear-gradient(135deg, ${config.button_color || defaultConfig.button_color} 0%, ${config.primary_color || defaultConfig.primary_color} 100%)`;
        item.style.color = config.button_text_color || defaultConfig.button_text_color;
      });

      document.body.style.background = `linear-gradient(135deg, ${config.primary_color || defaultConfig.primary_color} 0%, #764ba2 100%)`;
      document.querySelector('.container').style.background = config.secondary_color || defaultConfig.secondary_color;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ primary_color: value });
              }
            }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              config.secondary_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ secondary_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.button_color || defaultConfig.button_color,
            set: (value) => {
              config.button_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ button_color: value });
              }
            }
          },
          {
            get: () => config.button_text_color || defaultConfig.button_text_color,
            set: (value) => {
              config.button_text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ button_text_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["main_title", config.main_title || defaultConfig.main_title],
        ["menu_1", config.menu_1 || defaultConfig.menu_1],
        ["menu_2", config.menu_2 || defaultConfig.menu_2],
        ["menu_3", config.menu_3 || defaultConfig.menu_3],
        ["menu_4", config.menu_4 || defaultConfig.menu_4]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    const materiData = {
      makhluk: {
        title: "Makhluk Hidup",
        explanation: "Makhluk hidup adalah semua yang bernapas, bergerak, tumbuh, berkembang biak, dan membutuhkan makanan. Makhluk hidup terdiri dari manusia, hewan, dan tumbuhan. Setiap makhluk hidup memiliki ciri-ciri khusus yang membedakannya dari benda mati.",
        example: "Contohnya: Kucing bernapas dengan paru-paru, bergerak dengan kaki, makan ikan atau daging, dan bisa melahirkan anak kucing. Pohon mangga bernapas melalui daun, tumbuh dari biji, dan menghasilkan buah mangga.",
        illustration: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <ellipse cx="100" cy="140" rx="60" ry="15" fill="#90EE90" opacity="0.3"/>
          <rect x="90" y="80" width="20" height="60" fill="#8B4513"/>
          <circle cx="100" cy="60" r="35" fill="#228B22"/>
          <circle cx="85" cy="50" r="20" fill="#32CD32"/>
          <circle cx="115" cy="50" r="20" fill="#32CD32"/>
          <circle cx="100" cy="75" r="18" fill="#32CD32"/>
          <circle cx="130" cy="100" r="12" fill="#FF69B4"/>
          <circle cx="125" cy="95" r="8" fill="#FFB6C1"/>
          <path d="M 40 120 Q 50 100 60 120" stroke="#8B4513" stroke-width="3" fill="none"/>
          <ellipse cx="50" cy="125" rx="8" ry="12" fill="#228B22"/>
          <path d="M 140 110 Q 150 90 160 110" stroke="#8B4513" stroke-width="3" fill="none"/>
          <ellipse cx="150" cy="115" rx="8" ry="12" fill="#228B22"/>
        </svg>`,
        quiz: [
          {
            question: "Apa ciri-ciri makhluk hidup?",
            options: ["Bernapas dan bergerak", "Diam dan keras", "Tidak berubah", "Tidak butuh makan"],
            correct: 0
          },
          {
            question: "Manakah yang termasuk makhluk hidup?",
            options: ["Batu", "Pohon", "Air", "Tanah"],
            correct: 1
          },
          {
            question: "Hewan bernapas menggunakan?",
            options: ["Akar", "Paru-paru atau insang", "Batang", "Bunga"],
            correct: 1
          },
          {
            question: "Tumbuhan membutuhkan apa untuk tumbuh?",
            options: ["Hanya air", "Air, cahaya matahari, dan udara", "Hanya tanah", "Tidak butuh apa-apa"],
            correct: 1
          },
          {
            question: "Apa yang dilakukan makhluk hidup untuk memperbanyak diri?",
            options: ["Tidur", "Berkembang biak", "Makan", "Berjalan"],
            correct: 1
          },
          {
            question: "Manusia termasuk makhluk hidup karena?",
            options: ["Bisa terbang", "Bernapas, makan, dan tumbuh", "Keras seperti batu", "Tidak bergerak"],
            correct: 1
          },
          {
            question: "Ikan bernapas menggunakan?",
            options: ["Paru-paru", "Insang", "Kulit", "Mulut"],
            correct: 1
          },
          {
            question: "Ciri makhluk hidup yang membedakan dengan benda mati adalah?",
            options: ["Berat", "Warna", "Dapat tumbuh dan berkembang", "Bentuk"],
            correct: 2
          },
          {
            question: "Apa yang dibutuhkan semua makhluk hidup?",
            options: ["Mainan", "Makanan dan air", "Televisi", "Komputer"],
            correct: 1
          },
          {
            question: "Tumbuhan mendapat makanan dari?",
            options: ["Membeli di toko", "Membuat sendiri dari cahaya matahari", "Meminta pada manusia", "Mencari di tanah"],
            correct: 1
          }
        ]
      },
      energi: {
        title: "Energi & Perubahan",
        explanation: "Energi adalah kemampuan untuk melakukan kerja atau aktivitas. Ada berbagai jenis energi seperti energi panas dari matahari, energi listrik, energi gerak, dan energi bunyi. Energi dapat berubah bentuk dari satu jenis ke jenis lainnya.",
        example: "Contohnya: Matahari memberikan energi panas dan cahaya. Ketika kita menyalakan lampu, energi listrik berubah menjadi energi cahaya. Saat bermain ayunan, energi gerak membuat kita bergerak naik turun.",
        illustration: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <circle cx="100" cy="80" r="30" fill="#FFD700"/>
          <line x1="100" y1="40" x2="100" y2="20" stroke="#FFD700" stroke-width="4"/>
          <line x1="130" y1="50" x2="145" y2="35" stroke="#FFD700" stroke-width="4"/>
          <line x1="140" y1="80" x2="160" y2="80" stroke="#FFD700" stroke-width="4"/>
          <line x1="130" y1="110" x2="145" y2="125" stroke="#FFD700" stroke-width="4"/>
          <line x1="70" y1="50" x2="55" y2="35" stroke="#FFD700" stroke-width="4"/>
          <line x1="60" y1="80" x2="40" y2="80" stroke="#FFD700" stroke-width="4"/>
          <line x1="70" y1="110" x2="55" y2="125" stroke="#FFD700" stroke-width="4"/>
          <path d="M 80 140 L 100 160 L 120 140 L 110 140 L 110 120 L 90 120 L 90 140 Z" fill="#FF6347"/>
          <rect x="70" y="165" width="60" height="25" rx="5" fill="#4169E1"/>
          <circle cx="85" cy="177" r="3" fill="#FFD700"/>
          <circle cx="100" cy="177" r="3" fill="#FFD700"/>
          <circle cx="115" cy="177" r="3" fill="#FFD700"/>
        </svg>`,
        quiz: [
          {
            question: "Apa yang dimaksud dengan energi?",
            options: ["Kemampuan untuk bekerja", "Benda padat", "Air mengalir", "Udara bergerak"],
            correct: 0
          },
          {
            question: "Sumber energi terbesar di bumi adalah?",
            options: ["Bulan", "Matahari", "Bintang", "Angin"],
            correct: 1
          },
          {
            question: "Lampu mengubah energi listrik menjadi?",
            options: ["Energi panas saja", "Energi cahaya", "Energi bunyi", "Energi gerak"],
            correct: 1
          },
          {
            question: "Energi apa yang kita gunakan saat berlari?",
            options: ["Energi listrik", "Energi gerak", "Energi cahaya", "Energi bunyi"],
            correct: 1
          },
          {
            question: "Kipas angin mengubah energi listrik menjadi?",
            options: ["Energi cahaya", "Energi panas", "Energi gerak", "Energi kimia"],
            correct: 2
          },
          {
            question: "Makanan memberikan kita energi untuk?",
            options: ["Tidur saja", "Beraktivitas dan bergerak", "Diam saja", "Tidak melakukan apa-apa"],
            correct: 1
          },
          {
            question: "Energi panas matahari dapat digunakan untuk?",
            options: ["Mengeringkan pakaian", "Membuat es", "Mendinginkan air", "Membuat gelap"],
            correct: 0
          },
          {
            question: "Baterai menyimpan energi?",
            options: ["Cahaya", "Listrik", "Air", "Angin"],
            correct: 1
          },
          {
            question: "Energi bunyi dihasilkan dari?",
            options: ["Getaran benda", "Cahaya", "Air diam", "Benda diam"],
            correct: 0
          },
          {
            question: "Panel surya mengubah energi matahari menjadi?",
            options: ["Energi angin", "Energi listrik", "Energi air", "Energi tanah"],
            correct: 1
          }
        ]
      },
      benda: {
        title: "Benda di Sekitar",
        explanation: "Benda adalah segala sesuatu yang ada di sekitar kita dan menempati ruang. Benda dapat dibedakan berdasarkan wujudnya: padat (keras dan bentuknya tetap), cair (mengalir dan mengikuti wadah), dan gas (tidak terlihat dan menyebar). Setiap benda memiliki sifat yang berbeda-beda.",
        example: "Contohnya: Pensil adalah benda padat yang keras dan bentuknya tetap. Air adalah benda cair yang bisa dituang dan mengikuti bentuk gelas. Udara adalah benda gas yang tidak terlihat tapi bisa kita rasakan saat berangin.",
        illustration: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <rect x="30" y="120" width="40" height="50" rx="5" fill="#8B4513"/>
          <rect x="35" y="125" width="30" height="40" fill="#D2691E"/>
          <circle cx="50" cy="145" r="3" fill="#FFD700"/>
          <path d="M 100 80 L 120 120 L 80 120 Z" fill="#87CEEB"/>
          <path d="M 100 90 L 115 120 L 85 120 Z" fill="#B0E0E6"/>
          <ellipse cx="100" cy="125" rx="25" ry="8" fill="#4682B4"/>
          <rect x="140" y="100" width="35" height="50" rx="3" fill="#FF6B6B"/>
          <rect x="145" y="105" width="25" height="35" fill="#FFB6C1"/>
          <line x1="157.5" y1="105" x2="157.5" y2="140" stroke="#FF1493" stroke-width="1"/>
          <circle cx="157.5" cy="95" r="8" fill="#FF69B4"/>
          <path d="M 50 50 Q 60 30 70 50" fill="none" stroke="#A9A9A9" stroke-width="2"/>
          <path d="M 60 45 Q 70 25 80 45" fill="none" stroke="#A9A9A9" stroke-width="2"/>
          <path d="M 70 40 Q 80 20 90 40" fill="none" stroke="#A9A9A9" stroke-width="2"/>
        </svg>`,
        quiz: [
          {
            question: "Apa wujud benda yang bentuknya tetap?",
            options: ["Cair", "Padat", "Gas", "Uap"],
            correct: 1
          },
          {
            question: "Air termasuk benda berwujud?",
            options: ["Padat", "Cair", "Gas", "Keras"],
            correct: 1
          },
          {
            question: "Contoh benda gas adalah?",
            options: ["Batu", "Susu", "Udara", "Es"],
            correct: 2
          },
          {
            question: "Benda cair memiliki sifat?",
            options: ["Bentuknya tetap", "Mengikuti bentuk wadah", "Tidak bisa dituang", "Sangat keras"],
            correct: 1
          },
          {
            question: "Contoh benda padat adalah?",
            options: ["Minyak", "Buku", "Asap", "Awan"],
            correct: 1
          },
          {
            question: "Gas memiliki ciri?",
            options: ["Bisa dipegang", "Tidak terlihat dan menyebar", "Bentuknya tetap", "Sangat berat"],
            correct: 1
          },
          {
            question: "Es batu jika dipanaskan akan berubah menjadi?",
            options: ["Tetap es", "Air", "Kayu", "Batu"],
            correct: 1
          },
          {
            question: "Susu, sirup, dan minyak termasuk benda?",
            options: ["Padat", "Gas", "Cair", "Keras"],
            correct: 2
          },
          {
            question: "Benda apa yang bisa mengisi seluruh ruangan?",
            options: ["Benda padat", "Benda cair", "Benda gas", "Benda keras"],
            correct: 2
          },
          {
            question: "Pensil, buku, dan meja termasuk benda?",
            options: ["Cair", "Gas", "Padat", "Lunak"],
            correct: 2
          }
        ]
      },
      lingkungan: {
        title: "Lingkungan",
        explanation: "Lingkungan adalah segala sesuatu yang ada di sekitar kita, termasuk udara, air, tanah, tumbuhan, hewan, dan manusia. Lingkungan yang sehat sangat penting untuk kehidupan. Kita harus menjaga kebersihan lingkungan dengan tidak membuang sampah sembarangan dan merawat tumbuhan.",
        example: "Contohnya: Di rumah kita ada halaman dengan tanaman, udara segar, dan hewan peliharaan. Kita bisa menjaga lingkungan dengan membuang sampah pada tempatnya, menyiram tanaman, dan tidak merusak pohon di taman.",
        illustration: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <rect x="0" y="120" width="200" height="80" fill="#90EE90"/>
          <circle cx="50" cy="40" r="25" fill="#87CEEB"/>
          <path d="M 30 50 Q 50 30 70 50" fill="#FFFFFF"/>
          <path d="M 35 45 Q 50 35 65 45" fill="#FFFFFF"/>
          <rect x="140" y="80" width="30" height="40" fill="#8B4513"/>
          <polygon points="155,50 135,80 175,80" fill="#228B22"/>
          <polygon points="155,60 140,80 170,80" fill="#32CD32"/>
          <rect x="30" y="100" width="40" height="20" fill="#D2691E"/>
          <polygon points="50,70 20,100 80,100" fill="#DC143C"/>
          <rect x="45" y="105" width="10" height="15" fill="#8B4513"/>
          <rect x="35" y="105" width="8" height="8" fill="#87CEEB"/>
          <circle cx="100" cy="140" r="8" fill="#FF69B4"/>
          <rect x="98" y="145" width="4" height="15" fill="#228B22"/>
          <ellipse cx="100" cy="145" rx="6" ry="3" fill="#FF1493"/>
          <circle cx="120" cy="145" r="8" fill="#FFD700"/>
          <rect x="118" y="150" width="4" height="12" fill="#228B22"/>
        </svg>`,
        quiz: [
          {
            question: "Apa yang termasuk lingkungan hidup?",
            options: ["Hanya manusia", "Udara, air, tanah, dan makhluk hidup", "Hanya tumbuhan", "Hanya hewan"],
            correct: 1
          },
          {
            question: "Bagaimana cara menjaga lingkungan?",
            options: ["Buang sampah sembarangan", "Membuang sampah pada tempatnya", "Merusak tanaman", "Membiarkan sampah berserakan"],
            correct: 1
          },
          {
            question: "Mengapa kita harus menjaga lingkungan?",
            options: ["Agar kotor", "Agar sehat dan nyaman", "Agar berantakan", "Tidak perlu dijaga"],
            correct: 1
          },
          {
            question: "Apa akibat membuang sampah di sungai?",
            options: ["Sungai jadi bersih", "Sungai jadi kotor dan bau", "Sungai jadi indah", "Tidak ada akibat"],
            correct: 1
          },
          {
            question: "Kegiatan yang dapat menjaga lingkungan adalah?",
            options: ["Menebang pohon sembarangan", "Menanam pohon", "Membakar sampah plastik", "Mencemari air"],
            correct: 1
          },
          {
            question: "Udara bersih penting untuk?",
            options: ["Bernapas dengan sehat", "Membuat kotor", "Tidak penting", "Merusak kesehatan"],
            correct: 0
          },
          {
            question: "Apa manfaat pohon bagi lingkungan?",
            options: ["Membuat udara kotor", "Menghasilkan oksigen dan udara segar", "Tidak ada manfaat", "Merusak tanah"],
            correct: 1
          },
          {
            question: "Sampah plastik sebaiknya?",
            options: ["Dibuang ke sungai", "Dipisahkan dan didaur ulang", "Dibakar", "Dibiarkan berserakan"],
            correct: 1
          },
          {
            question: "Air bersih digunakan untuk?",
            options: ["Mencuci dan minum", "Membuang sampah", "Membuat kotor", "Tidak berguna"],
            correct: 0
          },
          {
            question: "Cara menghemat air adalah?",
            options: ["Membiarkan keran terbuka", "Mematikan keran saat tidak digunakan", "Membuang air sembarangan", "Mencuci dengan air berlebihan"],
            correct: 1
          }
        ]
      }
    };

    function showMaterial(topic) {
      const data = materiData[topic];
      if (!data) return;

      document.getElementById('materialTitle').textContent = data.title;
      document.getElementById('materialExplanation').textContent = data.explanation;
      document.getElementById('materialExample').textContent = data.example;
      document.getElementById('materialIllustration').innerHTML = data.illustration;

      const quizContainer = document.getElementById('quizContainer');
      quizContainer.innerHTML = '';
      
      data.quiz.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        questionDiv.innerHTML = `
          <div class="question-text">${index + 1}. ${q.question}</div>
          <div class="quiz-options">
            ${q.options.map((option, optIndex) => `
              <div class="quiz-option" onclick="selectOption(this)">
                <input type="radio" name="question${index}" value="${optIndex}" id="q${index}o${optIndex}">
                <label for="q${index}o${optIndex}">${option}</label>
              </div>
            `).join('')}
          </div>
        `;
        quizContainer.appendChild(questionDiv);
      });

      document.getElementById('homePage').style.display = 'none';
      document.getElementById('materialPage').style.display = 'block';
      document.getElementById('quizResult').classList.remove('show');
      
      window.currentQuiz = data.quiz;

      if (isMusicPlaying) {
        playQuizMusic();
      }
    }

    window.selectOption = function(element) {
      const parent = element.parentElement;
      parent.querySelectorAll('.quiz-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      element.classList.add('selected');
      element.querySelector('input').checked = true;
    };

    document.getElementById('backButton').addEventListener('click', function() {
      document.getElementById('materialPage').style.display = 'none';
      document.getElementById('homePage').style.display = 'block';
      
      if (isMusicPlaying) {
        playBackgroundMusic();
      }
    });

    document.getElementById('submitQuiz').addEventListener('click', function() {
      if (!window.currentQuiz) return;

      let correct = 0;
      const total = window.currentQuiz.length;

      window.currentQuiz.forEach((q, index) => {
        const selected = document.querySelector(`input[name="question${index}"]:checked`);
        if (selected && parseInt(selected.value) === q.correct) {
          correct++;
        }
      });

      const resultDiv = document.getElementById('quizResult');
      const percentage = (correct / total) * 100;
      
      if (percentage === 100) {
        resultDiv.className = 'quiz-result show success';
        resultDiv.innerHTML = `üéâ Sempurna! Kamu benar semua ${correct}/${total}! üåü`;
      } else if (percentage >= 60) {
        resultDiv.className = 'quiz-result show partial';
        resultDiv.innerHTML = `üëç Bagus! Kamu benar ${correct}/${total}. Terus belajar ya! üìö`;
      } else {
        resultDiv.className = 'quiz-result show partial';
        resultDiv.innerHTML = `üí™ Kamu benar ${correct}/${total}. Ayo baca lagi materinya! üìñ`;
      }
    });

    document.querySelectorAll('.menu-item').forEach(item => {
      item.addEventListener('click', function() {
        const topic = this.getAttribute('data-topic');
        showMaterial(topic);
      });
    });

    setTimeout(() => {
      playBackgroundMusic();
    }, 500);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a0c4739535d91a7',t:'MTc2MzUxOTM0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>